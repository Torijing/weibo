# weibo

新浪微博 Golang 版 SDK

## 功能

代码组织结构已按新浪微博提供的接口拆分，已支持的接口功能列表：

- 模拟电脑浏览器登录
- 模拟移动端登录
- 获取 Authorize Code
- 获取 Access Token
- 查询 Access Token 信息
- 分享一条链接到微博（发微博）

## 特性

### 自动登录并获取授权码一键取得token

使用账号密码模拟登录微博后获取授权码，从url中取得授权码后再获取token

### 支持登录时验证码识别

默认触发验证码时，将验证码保存在临时目录中，提示用户人工处理，手动输入验证码后继续后续逻辑。

支持注册破解验证码的函数，注册后触发验证码时，优先使用注册的函数识别验证码，如果识别失败则仍然采用提示用户手动输入。

破解函数的声明为 `func(io.Reader) (string, error)` ，只要符合此签名的函数就可以调用 `RegisterCrackPinFunc` 方法注册。`RegisterCrackPinFunc` 可以传入多个破解函数，会逐个尝试。

## 使用示例

发送纯文本内容的微博

发送文字内容带图片的微博

注册破解函数
